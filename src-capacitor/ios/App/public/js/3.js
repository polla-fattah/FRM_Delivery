(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"713b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{staticClass:"bg-grey-1",attrs:{view:"lHh Lpr fff"}},[n("q-header",{staticClass:"custom-background",attrs:{elevated:"","height-hint":"80"}},[n("q-toolbar",{staticClass:"GPL__toolbar",staticStyle:{height:"80px"}},[n("q-btn",{staticClass:"q-mx-md text-black",attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),n("q-toolbar-title",{staticClass:"row items-center no-wrap"},[n("span",{attrs:{id:"logo"}},[n("span",{attrs:{id:"frmLogo"}},[n("img",{staticClass:"q-pl-md",staticStyle:{width:"150px"},attrs:{src:a("cf05")}})]),n("span",{style:e.userName},[e._v(e._s(e.$store.getters.getUserName))])])])],1)],1),n("q-drawer",{attrs:{bordered:"",behavior:"mobile"},on:{click:function(t){e.leftDrawerOpen=!1}},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[n("q-scroll-area",{staticClass:"fit"},[n("q-toolbar",{staticClass:"GPL__toolbar"},[n("q-toolbar-title",{staticClass:"row items-center text-grey-8"},[n("img",{staticClass:"q-pl-md",attrs:{src:a("cf05")}})])],1),n("q-list",{attrs:{padding:""}},[e._l(e.links,(function(t){return[e.canSee(t.level)?[n("q-item",{key:t.text,staticClass:"GPL__drawer-item",attrs:{clickable:""},on:{click:function(a){return e.navigate(t)}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{size:"2em",color:"secondary",name:t.icon}})],1),n("q-item-section",[n("q-item-label",[e._v(e._s(t.text))])],1)],1)]:e._e()]})),n("q-item",{staticClass:"GPL__drawer-item"},[n("q-item-section",{attrs:{id:"menu-language"}},[n("div",{staticClass:"langu lang2",on:{click:function(t){return e.changeLang("krd")}}},[e._v("کوردی")]),n("div",{staticClass:"langu lang2",on:{click:function(t){return e.changeLang("ar")}}},[e._v("عربي")]),n("div",{staticClass:"langu",on:{click:function(t){return e.changeLang("en-us")}}},[e._v("English")])])],1)],2)],1)],1),n("q-page-container",{staticClass:"GPL__page-container content-background"},[n("router-view"),e.$q.screen.gt.sm?n("q-page-sticky",{attrs:{expand:"",position:"left"}},[n("div",{staticClass:"fit q-pt-xl q-px-sm column"},[e._l(e.links,(function(t){return[e.canSee(t.level)?[n("q-btn",{key:t.text,staticClass:"GPL__side-btn main-menu-big-icons",attrs:{round:"",flat:"",color:"grey-8",stack:"","no-caps":"",size:"26px"},on:{click:function(a){return e.navigate(t)}}},[n("q-icon",{attrs:{size:"1.4em",name:t.icon}}),n("div",{staticClass:"GPL__side-btn__label"},[e._v(e._s(t.text))])],1)]:e._e()]}))],2)]):e._e()],1)],1)},i=[],s=a("032d"),r={name:"mainLayout",data(){return{leftDrawerOpen:!1,defferredPrompt:null,installed:!1,userName:{color:"admin"==this.$store.getUserRole?"red":"driver"==this.$store.getUserRole?"green":"gray",padding:"0px 0px 0px 30px",fontSize:"0.8em"},links:[{icon:"inbox",text:this.$t("delivery"),type:"link",url:"Delivery",level:["driver","shop","admin"]},{icon:"book",text:this.$t("archive"),type:"link",url:"PrevDelivery",level:["driver","shop","admin"]},{icon:"article",text:this.$t("stat"),type:"link",url:"StatIndex",level:["admin"]},{icon:"store",text:this.$t("edit_shops"),type:"link",url:"SearchShops",level:["driver","admin"]},{icon:"local_shipping",text:this.$t("edit_regions"),type:"link",url:"ShowRegions",level:["admin"]},{icon:"people",text:this.$t("sharing"),type:"method",url:"addRole",level:["none"]},{icon:"get_app",text:this.$t("install"),type:"method",url:"installApp",level:window.matchMedia("(display-mode: standalone)").matches?[]:["driver","shop","admin"]},{icon:"language",text:this.$t("language"),type:"method",url:"openDrawer",level:["driver","shop","admin"]},{icon:"power_settings_new",text:this.$t("logout"),type:"method",url:"logout",level:["driver","shop","admin"]}]}},mounted(){window.addEventListener("beforeinstallprompt",e=>{this.defferredPrompt=e})},methods:{installApp(){console.log("---------------------"),console.log(window.matchMedia("(display-mode: standalone)").matches),console.log(this.defferredPrompt),console.log("---------------------"),this.defferredPrompt&&this.defferredPrompt.prompt()},openDrawer(){this.leftDrawerOpen=!0},changeLang(e){localStorage.setItem("language",e),location.reload()},canSee(e){return!!this.$store.state.claims&&(!e||e.includes(this.$store.state.claims.role))},navigate(e){this.leftDrawerOpen=!1,"link"==e.type?this.$router.push({name:e.url}):"method"==e.type&&this[e.url]()},logout(){s["a"].signOut().then(()=>{}),this.$store.commit("setUser",null),this.$store.commit("setClaims",null),this.$router.push("/")}}},l=r,o=(a("89d3"),a("2877")),c=a("4d5a"),d=a("e359"),p=a("65c6"),m=a("9c40"),u=a("6ac5"),g=a("9404"),h=a("4983"),f=a("1c1c"),v=a("66e5"),_=a("4074"),w=a("0016"),b=a("0170"),x=a("09e3"),y=a("de5e"),k=a("eebe"),q=a.n(k),C=Object(o["a"])(l,n,i,!1,null,null,null);t["default"]=C.exports;q()(C,"components",{QLayout:c["a"],QHeader:d["a"],QToolbar:p["a"],QBtn:m["a"],QToolbarTitle:u["a"],QDrawer:g["a"],QScrollArea:h["a"],QList:f["a"],QItem:v["a"],QItemSection:_["a"],QIcon:w["a"],QItemLabel:b["a"],QPageContainer:x["a"],QPageSticky:y["a"]})},"89d3":function(e,t,a){"use strict";var n=a("e87e"),i=a.n(n);i.a},cf05:function(e,t,a){e.exports=a.p+"img/logo.png"},e87e:function(e,t,a){}}]);